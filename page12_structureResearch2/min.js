function getCookieString(n,o){var t=n+"="+o+";";return t}function getFbInfo(){var n=new Object;return dummyResponse(!0)?(n.fbUid="fake facebook userID",n.type=c_lt_fb):n=null,n}function getLoginInfo(n,o){switch(n.type){case c_lt_normal:n.param=c_lt_normal,jamLogin(n,o);break;case c_lt_fb:jamLogin(getFbInfo(),o);break;default:alert("你是不是哪邊打錯了 \n from setLoginInfo")}}function jamLogin(n,o){dummyResponse(!0)&&(document.cookie=getCookieString(jam_cookie_key,JSON.stringify(dummyUinfo())),o(!0))}function changeState(){checkLoggedIn()&&(sta=1,fetchUserData(),initBackgroundTask()),initElement()}function loginNormal(){console.log("asd");var n=new Object;n.type=c_lt_normal,n.acc=$(field_ACC).val(),n.pw=$(fieldPW).val(),console.log(n.pw),getLoginInfo(n,onLogIn)}function loginFb(){getLoginInfo(getFbInfo(),onLogIn)}function checkLoggedIn(){return!0}function initElement(){switch(sta){case 0:$(btn_login).on("click",loginNormal),$(btn_continueFB).on("click",loginFb),sta=1;break;case 1:$(btn_login).off("click",loginNormal),$(btn_continueFB).off("click",loginFb),$(btn_logout).on("click",onLogOut),sta=2;break;case 2:sta=0,initElement()}console.log("asd"+sta)}function onLogIn(n){n?(initElement(),fetchUserData()):(onLogFailed(),sta=0)}function onLogFailed(){showLogFailed()}function onLogOut(){initElement(),reload()}function fetchUserData(){var n=extractCookie(jam_cookie_key);showData(n)}function reload(){}function eraseData(){$("#statusMonitor").text("你登出了")}function extractCookie(n){for(var o=document.cookie,t=o.split(";"),e=void 0,i=0;i<t.length;i++){var a=t[i].split("=");if(a[0]=a[0].replace(" ",""),a[0]==n){e=JSON.parse(a[1]);break}}return e}function showData(n){}function showLogFailed(){}function onNewMessage(n){}$(document).ready(changeState);